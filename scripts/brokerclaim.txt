问题反馈
1.目前根据配置的 Claim_Type_Document__c 来展示问题是否显示在


页面跳转：window.nextStep = function(evt) 在 BaseMyClaimSubmitVFP 的 315行
其中第七页是回答问题，如果没有问题就会跳转：

BaseMyClaimSubmitVFP
133 行 document.ready 页面加载完后要运行 

页面功能：
1.
BaseMyClaimSubmitVFP 运行Controller 方法，这时候Step=0; 
返回游览器加载页面 document.ready 然后运行 Controller.loadDataFromWS() Step=1;  然后返回前端页面运行 initDisplay(); 
然后调用 ClaimUtilJS.displayQuestion('brkSteps1') 方法显示Step1页面
Step1 CommonSearchComp
- 选择 Policy Number 搜索 获取Policy  251 行
- 调用 js方法 policyHolderSearchValidation  136 行, 获取 SearchInputText 和 SearchType
- 调用后台 Controller 方法 policyHolderSearch() ApexClass 226行
- 然后调用 policyHelper.getIndividualPolicyListBasicByCriteria  3200行 调用接口获取 Policy数据,
- 点击具体的 Policy  调用 Controller 方法 selectPolicyHolderToPersonInsured  504 行 
- 然后调用 polyCalHlp.getPolicyInsuredListBasic 获取Policy的Insured Person
- 点击具体的 Insured Person  保存 Id, Name, Email， 并且导航至新页面 url 参数中保存 Id(Insured), Name (Insured), 加上encryptedSearchCriteria (搜索用的Serach Type 和 Serch Value)
- /apex/BrkMyClaimSubmitVFP   //proceedToNextStep() 930 行


2. 重新导航至 /apex/BrkMyClaimSubmitVFP?phid=XXX&phname 因为Controller中获取到phid和phname,但是cid为空, 所以初始 Step=2
Controller Constructor 构造方法中新建 Claim__c 对象
cList[0].Person_s_Insured__c = phid;
cList[0].Person_Insured_Name__c = phname ;
返回游览器加载页面 document.ready 然后运行 Controller.loadDataFromWS()， 因为Step=2 所以运行 Controller 方法 initData()  488 => 929 
a. 再次调用getIndividualPolicyListBasicByCriteria 通过 isured id查询其所有policy, wPolicyList_unchanged 获取到值   939 => 1179 行  
如果是broker wPolicyList_selected = wPolicyList_unchanged
b. 调用 getPolicyPersonCoverageBasic (感觉是查询Issure的有效期)

初始化的时候给了创建了 Claim__c 给了2个字段值:phname
Person_s_Insured__c = phid
Person_Insured_Name__c = phname 
页面变量的数组是 wPolicyList_PI
getPolicyListForPI() 方法会add
loadSelectedWrapperPolicyList() 方法会add  => 此方法被InitData调用 



nextStep() 方法在那里啊


Step3 ClaimSelectBenefitTypeVFP  选择benifit
ClaimAskIfClaimFromOtherCompanyVFP  需要上传的文件
ClaimAnswerClaimQuestionBrkVFP  显示问题


CignaUtil displayQuestion 用来显示页面的
BaseMyClaimSubmitVFP initDisplay 控制显示哪个子页面


https://cignahk--smuat.sandbox.my.site.com/broker/s/sfdcpage/%2Fapex%2FBrkMyClaimSubmitVFP%3Fphid%3DZ892137%26phname%3DCHAN%20KA%20FIRST%20NAME%26pclist%3Dtrue%26cId%3D%26FLTR%3DIN3T4FFqCYtIoKZn1zBxx5hNqiepbk9Zs5Q8KhQ4EqmVPXOteca4RWoXvJGpXXGInF1uCr99MDUN%252BGr5zfRFVaZP1ZUvpk85uHg93VPzNERT4IvbPoV6%252BE89Qg6TPdKN


I can't imagine what this is
Map<Map<String,String>,Map<String,String>> tmpResultMap = new Map<Map<String,String>,Map<String,String>>{};


接口缓存：
GetPolicyListBasicByCriteria  取消了缓存