<apex:page id="TMManagerWorkingHour" Controller="TMManagerWorkingHourCtrl" title="Manager TM Working Hour">
    
    <apex:form id="TMWorkingHour">
        <apex:pageMessages ></apex:pageMessages>
        <apex:pageBlock title="{!$Label.TM_WorkingHour_Title}" rendered="{!hasPermission}">
            <apex:pageBlockSection columns="2">
                <apex:pageblocksectionitem >
                    <apex:outputlabel value="{!$Label.TM_WorkingHour_Team}"/>
                    <apex:selectList value="{!team}" size="1" required="true" >
                        <apex:selectOptions value="{!teamOptions}"/>
                    </apex:selectList>
                </apex:pageblocksectionitem>   
                <apex:pageblocksectionitem >
                    <apex:outputlabel value="{!$Label.TM_WorkingHour_Work_Date}" for="WorkDate" />
                    <apex:outputPanel id="WorkDate">
                        <apex:inputfield value="{!dummyWorkHour.Work_Date__c}" required="true" />
                        <script>function setFocusOnLoad(){ }</script>
                    </apex:outputPanel>
                </apex:pageblocksectionitem>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection >
                <apex:commandButton value="{!$Label.TM_WorkingHour_Manage}" action="{!loadWorkingHour}" />
            </apex:pageBlockSection>
            
            <apex:pageBlock rendered="{! isLoaded }">
                <apex:pageBlockTable value="{!whList }" var="wh">
                    <apex:column headerValue="{!$Label.TM_WorkingHour_SellerID}" value="{!wh.SellerId}"/>
                    <apex:column headerValue="{!$Label.TM_WorkingHour_SellerName}" value="{!wh.SellerName}"/>
                    <apex:column headerValue="{!$Label.TM_WorkingHour_SFDCID}" value="{!wh.SFDCId}"/>
                    <apex:column headerValue="{!$Label.TM_WorkingHour_WorkingHour}">
                        <apex:inputtext value="{!wh.hours}"/>
                    </apex:column>
                </apex:pageBlockTable>
                <apex:pageBlockButtons location="bottom">
                    <apex:commandButton value="{!$Label.TM_WorkingHour_Save}" action="{!saveWorkingHour}"/>
                </apex:pageBlockButtons>
            </apex:pageBlock>
        </apex:pageBlock>
    </apex:form>   
</apex:page>