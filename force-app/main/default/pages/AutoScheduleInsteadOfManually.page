<apex:page sidebar="false" showHeader="true" controller="AutoScheduleInsteadOfManually" >

{!$User.Id} {!$User.LastName} {!$User.FirstName} {!Text($User.UserType)}

 <br/> ||| timeRequired : {!timeRequired } (ms)
 <br/> the current endpoint is: {!endpoint}  <br/> 

    <apex:include pageName="CignaUtilJS"/>

<apex:outputText value="{!result2}" escape="false"></apex:outputText>
    <apex:form >
        <apex:commandButton value="Test Cigna WS" action="{!test}"/>
        <apex:commandButton value="Test2" action="{!testSendBigAttachment}"/>
        <apex:commandButton value="Test Google Map Related WS" action="{!test3}"/>
        <apex:commandButton value="Test Paging" action="{!testPaging}"/>
        <apex:commandButton value="Send Email" action="{!sendEmail}"/>
        <apex:commandButton value="Test pre sales" action="{!testpresales}"/>
        
        |&nbsp;
        <apex:commandButton value="Delte All Jobs" action="{!deletejobs}"/>
        <apex:commandButton value="Create All jObs" action="{!createjobs}"/>
        <input type="button" class="btn" value="View result" onclick="gotojobs()" />
        
        |&nbsp;
        <apex:commandButton value="Create Attachment" action="{!createAtt}"/>
        <br/>
        <apex:outputText value="{!f}"></apex:outputText>
        <br/>
        <br/>
        <apex:inputTextarea value="{!inputText}" cols="200" rows="30"/>
        <br/>
        
        <apex:outputText value="{!result}" escape="false"></apex:outputText>
        <apex:inputfile value="{!myFile}"></apex:inputfile>
    </apex:form>

    <script>
        
        function gotojobs(){
            window.open('/08e');
        }
    
        function isValidCreditCard(input) {
            var regex = /^[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}$/;
            
            if(regex.test(input)){
                var inputStr = input.replace(/-/g, "");
                var length = inputStr.length;
                var currentDigit;
                var sum = 0;
                var currentProcNum = 0;
                for(var i = length - 1; i >= 0; i--){
                    var currentDigitStr = inputStr.substring(i, i + 1);
                    currentDigit = parseInt(currentDigitStr);
                    if(currentProcNum%2 != 0){
                        if((currentDigit *= 2) > 9) {
                            currentDigit -= 9;
                        }
                    }
                    currentProcNum++ ;
                    sum += currentDigit;
                }
                return (sum%10 == 0);
            }
            
            return false;
        }
        
        //alert(Cigna.ValidationUtil.isValidCreditCard(''));
    </script>
    
    
    
</apex:page>