<apex:page docType="html-5.0" sidebar="false" showHeader="false" title="Community File Download" controller="ComFileDownLoadTestCTRL">
	<head>
		<script type="text/javascript" src="{!URLFOR($Resource.DD_Demo, 'js/jquery-3.6.0.min.js')}"/>
		
	</head>
	<apex:composition template="CustomerPageTemplate">
		<apex:define name="body">
			<div class="header-bar">
                <p style="position: relative; top: 45%; text-align:center; text-transform: uppercase;">
                    {!$Label.My_Smartone_Health_Offer}
                </p>
            </div>
            <div class="bs container-fluid" style="padding-left:0 !important;padding-right:0 !important;">
            	<div style='display:none;'>
		            <apex:outputPanel >
		            	<a id="dlink_" href="{!downloadSitePrefix}apex/ComFileDownLoadVFP?lang=en&attID=123&attKey=456&pol=P12345&appName=CUSTOMER_PORTAL" target="_blank"></a>
		        	</apex:outputPanel>
		        </div>
	        	<div class="fileWrapper">
	        		test
	        	</div>
            </div>
			
	        <script>
				$(".fileWrapper").on("click",function(){
					console.log('BaseUrl:{!$Site.BaseUrl}');
					var indid = "#dlink_";
					var href=$(indid).attr("href").split("/apex/");
		            var param="/apex/"+href[1];
		            $(indid).removeAttr("target");
		            $(indid).attr("href","javascript:void(0);");
		            $(indid).attr("onclick",openDownload(param));
		        });
			</script>
		</apex:define>
	</apex:composition>
</apex:page>