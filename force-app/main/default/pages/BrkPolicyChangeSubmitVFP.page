<apex:page docType="html-5.0" standardController="Policy_Change_Request_Detail__c" extensions="ManagePolicyChangeCRTL" cache="false" sidebar="false" showHeader="true" title="{!$Label.Make_A_Policy_Change}">
   <head>
      <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width"/>
      <apex:include pageName="CignaBrokerCommonCSS" />
      <apex:include pageName="CignaCommonCSS" />
      <link rel="stylesheet" type="text/css" href="{!$Setup.Portal_Settings__c.Typography_Font_URL__c}" />
      <style>
        /* Rancho_HKITSFDC264_20250903 - update font */
        /* .header-bar {
            color: #FFF;
            font-size: 1.25em;
            text-align: center;
            height: 150px;
            position: relative;
        } */
        @media (min-width: 768px) {
        .header-bar {
            background-image: url({!$Resource.ManIpadCoffee2});
            background-size: cover;
            background-position-y: 70%;
        }
        }
        @media (max-width: 767px) {
        .header-bar {
            background-image: url({!$Resource.ManIpadCoffee2});
            background-size: cover;
            background-position-y: 40%;
        }
        }
        .mainwrapper {
            width: 100vw;
            height: 100vh;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }
      </style>
   </head>
   <!--common css, bootstrap, jquery libraries-->
   <apex:define name="additionalLibraries">
      <!-- CR-56_Link_20220214 -->
      <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.DD_Demo, 'css/bootstrap3.4.1.css')}" />
      <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.DD_Demo, 'css/font-awesome.min.css')}" />
      <!-- Bootstrap Core CSS -->
      <!-- CR-56_Link_20220214 -->
      <script type="text/javascript" src="{!URLFOR($Resource.DD_Demo, 'js/jquery-3.6.0.min.js')}"/>
      <script type="text/javascript" src="{!URLFOR($Resource.DD_Demo, 'js/jquery-migrate-3.3.2.js')}"/>
      <script type="text/javascript" src="{!URLFOR($Resource.DD_Demo, 'js/bootstrap3.4.1.min.js')}"/>
      <apex:include pageName="CignaUtilJS"/>
   </apex:define>
   <!-- Start of the main body -->
   <apex:define name="body">
      <div class="bs">
         <apex:actionStatus id="loader-icon">
            <apex:facet name="start">
               <div class="bs col-xs-12 col-lg-12 loading-div" style="padding: 0px;">
                  <span class="loading-helper"></span>
                  <i class="spinner-icon fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                  <span class="sr-only">Loading...</span>
               </div>
            </apex:facet>
         </apex:actionStatus>
         <div id="maincontent">
             <div class="header-bar">
                <!-- Rancho_HKITSFDC264_20250903 - update font -->
                <p style="position: relative; top: 35%; text-align:center;">
                   {!$Label.Make_A_Policy_Change}
                </p>
             </div>
             <div class="bs container-fluid" style="padding-left:0 !important;padding-right:0 !important;">
                <!-- Please include your page here -->
                <apex:include pageName="BasePolicyChangeSubmitBrkVFP"/>
             </div>
         </div>
         <!--mobile action btn-->
         <div id="mobile-step-2" style="display:none;">
             <apex:outputpanel id="mobileSelectpolicy">
                 <apex:outputPanel rendered="{!hasPolicy}">
                    <apex:outputPanel rendered="{!IsPersonal}">
                    <!--mobile action button-->
                        <div class="bs row mobile-app-padding" style="display: none; padding-bottom: 20px;">
                            <div class="bs col-xs-12"></div>
                        </div>
                        <div class="bs action-bar visible-xs cigna-floating-bottom-panel onclick-pointer" onclick="showPolicyMember();">
                            <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                                <span class="action-btn cigna-fg-white" role="button"><span class="ci-hk-arrow-31" aria-hidden="true"></span><br/>{!$Label.Next}</span>
                            </div>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!IsDD}">
                        <!--mobile action button-->
                        <div class="bs row mobile-app-padding" style="display: none; padding-bottom: 20px;"> <!--Ray's Updates-->
                            <div class="bs col-xs-12"></div>
                        </div>
                        <div class="bs action-bar visible-xs cigna-floating-bottom-panel onclick-pointer" onclick="checkThirdPartyPay();">
                            <div  class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                                <span class="action-btn cigna-fg-white" role="button"><span class="ci-hk-arrow-31" aria-hidden="true"></span><br/>{!$Label.Next}</span>
                            </div>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!(!IsPersonal && !IsDD)}">
                        <!--mobile action button-->
                        <div class="bs row mobile-app-padding" style="display: none; padding-bottom: 20px;">
                            <div class="bs col-xs-12"></div>
                        </div>
                        <div class="bs action-bar visible-xs cigna-floating-bottom-panel onclick-pointer" onclick="nextStep('',{!requireAtt});">
                            <div  class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                                <span class="action-btn cigna-fg-white" role="button"><span class="ci-hk-arrow-31" aria-hidden="true"></span><br/>{!$Label.Next}</span>
                            </div>
                        </div>
                    </apex:outputPanel>
                    
                </apex:outputPanel>
             </apex:outputpanel>
         </div>
         
         <div id="mobile-step-5" style="display:none;">
             <apex:outputpanel id="mobileSubmitChange">
                 <div class="bs row mobile-app-padding" style="display: none; padding-bottom: 20px;">
                    <div class="bs col-xs-12"></div>
                </div>
                <div class="bs action-bar visible-xs cigna-floating-bottom-panel onclick-pointer" onclick="nextStep();">
                    <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                        <span class="action-btn cigna-fg-white" role="button"><span class="ci-hk-arrow-31" aria-hidden="true"></span><br/>{!$Label.Next}</span>
                    </div>
                </div>
             </apex:outputpanel>
         </div>
         <div id="mobile-step-6" style="display:none;">
            <apex:outputPanel id="mobilePolicyChangeForm">
                <div class="bs row mobile-app-padding" style="display: none; padding-bottom: 20px;">
                    <div class="bs col-xs-12"></div>
                </div>
                <div class="bs visible-xs col-xs-12" style="padding:20px;"></div>
                <div id="submitForm-mobile-btn" class="bs action-bar visible-xs cigna-floating-bottom-panel onclick-pointer" onclick="submitForm('{!changeType}')">
                <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark">
                    <span class="action-btn cigna-fg-white" role="button"><span id="mobileformNext-btn-icon" class="ci-hk-arrow-31" aria-hidden="true"/><br/><span id="mobileformNext-btn-text">{!$Label.Next}</span></span>
                </div>
                </div>
            </apex:outputPanel>
         </div>
         
         <div id="mobile-step-7" style="display:none;">
             <div id="mobile-submit" style="display:none;">
                  <div class="bs cigna-floating-bottom-panel visible-xs">
                    <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                        <div onclick="Cigna.ESignatureComp.saveSignature()" class="action-btn cigna-fg-white text-center onclick-pointer" role="button">
                            <span class="ci-hk-document-send" aria-hidden="true" style="padding-right:10px;"/>
                            <br/>
                            {!$Label.Submit}
                        </div>
                    </div>
                </div>
            </div>
            <div id="mobile-sendEmail" style="display:none;">
                <div class="bs cigna-floating-bottom-panel visible-xs">
                    <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                        <div href="#" onclick="Cigna.ESignatureComp.sendEmail()" class="action-btn cigna-fg-white text-center onclick-pointer" role="button">
                            <span class="ci-hk-envelope" aria-hidden="true" style="padding-right:10px;"/>
                            <br/>
                            {!$Label.Send_to_Email_For_Button}
                        </div>
                    </div>
                </div>
             </div>
         </div>
         
         <div id="mobile-step-8" style="display:none;">
            <div class="bs row mobile-app-padding" style="display: none; padding-bottom: 20px;"> <!--Ray's Updates-->
                <div class="bs col-xs-12"></div>
            </div>
            <div class="bs action-bar visible-xs cigna-floating-bottom-panel onclick-pointer" onclick="Cigna.Util.navigateToVFP('PolicyChangeVFP?backId='+'{!PolicyHolderId}')">
                <div  class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                    <span class="action-btn cigna-fg-white" role="button"><span class="fa fa-pencil-square-o" aria-hidden="true"></span><br/>{!$Label.Make_A_New_Request}</span>
                </div>
            </div>
         </div>

      </div>
   </apex:define>
   <script>
      if (Cigna.Util.isIOS() && Cigna.Util.isSalesforce1() && Cigna.Util.isBrokerPortal()) {
      
          $('html').css('position', 'fixed').css('overflow', 'hidden').css('width', '100%').css('height', '100%');
          $('body').css('position', 'fixed').css('overflow', 'hidden').css('width', '100%').css('height', '100%');
          $('#maincontent').addClass('mainwrapper');
      
      }

   </script>
   <!-- End of the main body -->
</apex:page>