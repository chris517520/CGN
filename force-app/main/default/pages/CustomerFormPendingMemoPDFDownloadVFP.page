<apex:page showHeader="false" applyHtmlTag="false" renderAs="PDF" cache="true" controller="CustomerFormPendingMemoPDFDownloadCTRL">
    <head>
        <style >
            @page {
                padding-top: 90px;
                margin-bottom: 90px;
                
                @top-center {
                    content: element(header);
                }
                
                @bottom-left {
                    content: element(footer);
                }
            }
            div.header {
                font-size: 8pt;
                display: block;
                padding-top: 30px;
                text-align: left;
                position: running(header);
                font-family: Arial Unicode MS;
                //color:  #d3d3d3;
                
            }
            div.footer {
                
                text-align: center;
                padding: 0px;
                font-size: 8pt;
                font-family: Arial Unicode MS;
                position: running(footer);
            }
            div.content{
                font-family: Arial Unicode MS;
                font-size: 8pt;
                fill-opacity:.5; 
                stroke:black; 
                stroke-width:2;
                /** does not work **/
                word-wrap: break-word;
                word-break: break-all;
                /** does not work end **/
            }
            .pagenumber:before {
                content: counter(page);
            }
            .pagecount:before {
                content: counter(pages);
            }
            tr {
                height:30px;
            }
            
            .rTable { 
                display: table; 
                width: 100%;
                float: left;
                margin-bottom: -1px;
            }
            .rTableRow { 
                display: table-row;
                border: 1px solid black;
                border-top: 0px;
            }
            .rTableRow_title { 
                display: table-row; 
                background-color: rgb(24, 140, 204);
                color:white;
            }
            
            .rTableCell_header { 
                display: table-cell; 
                border-collapse: collapse;
                border: 1px solid black;
                padding:10px;
            }
            
            .rTableCell_title { 
                display: table-cell; 
                border-collapse: collapse;
                border-right: 1px solid black;
                padding:10px;
                width: 35%;
                font-weight: bold;
                vertical-align: top;
                border-width: 0px 1px 1px 1px;
                border-style: solid;
                border-color: black;
            }
            
            .rTableCell { 
                display: table-cell; 
                border-collapse: collapse;
                padding:10px;
                border-style: solid;
                border-width: 0px 1px 1px 0px;
                width: 65%;
                vertical-align: middle;
            }
            
        </style>
    </head>
    <div class="header">
        <div style="width:720px;">
            <div style="width: 100%; float:left;">
                <div style="width: 60%; float:left;">
                    <apex:outputText value="Private & Confidential 私人及機密"></apex:outputText> 
                </div>
                <div style="width: 40%; float:left;">
                    <div style="width: 40%; float:left;">
                        <apex:image url="{!$Resource.Icon_For_Form}" width="60px" /> 
                    </div>
                    <div style="width: 60%; float:left;">
                        <apex:outputText escape="false" value="{!$Label.Cigna_Address_en_2_line}"/><br/><br/>
                        Tel: 2560 1990 Fax: 2560 3605 <br/>
                        www.cigna.com.hk
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div style="width:720px;">
            <div style="float:right;"  >
                <apex:outputText ><span class="pagenumber"/> / <span class="pagecount"/></apex:outputText>
            </div>
        </div>
    </div>
    <div class="content">
        <div style="width:720px;">
            
            <!-- page content -->
            <div style="width:98%">
                <div style="width:100%; float: left;">
                    <div style="float:right; ">
                        Ref. 參考:<apex:outputText value="&nbsp; &nbsp; &nbsp; &nbsp; " style="text-decoration: underline;" escape="false" />(for office use內部專用)  
                    </div>
                </div>
                <div style="width:100%; float: left; font-size: 16px;">
                    Pending Memo - Claims  
                </div>
                <div style="width:100%; float: left; font-size: 16px;">
                    等候便條–索償
                </div>
                <div style="width:100%; float: left; padding-top: 10px; padding-bottom: 10px;">
                    <div style="width:10%; float: left; ">
                        <apex:outputText value="Source  " />
                        <apex:outputText value="來源：  " />
                    </div>
                    <div style="width:20%; float: left; ">
                        <apex:image url="{!IF(CONTAINS(LOWER($Site.Name),'broker'),$Resource.CheckBox_NoChecked,$Resource.CheckBox_Checked)}" width="12" height="12" style="margin:0px 5px;"/>
                        <apex:outputText style="width: 100px;" value="Customer Portal      " />
                        <apex:outputText style="width: 100px;" value="客戶      " />
                    </div>
                    <div style="width:20%; float: left; ">
                        <apex:image url="{!IF(CONTAINS(LOWER($Site.Name),'broker'),$Resource.CheckBox_Checked,$Resource.CheckBox_NoChecked)}" width="12" height="12" style="margin:0px 5px;"/>
                        <apex:outputText style="width: 100px;" value="Broker Portal      " />
                        <apex:outputText style="width: 100px;" value="經紀      " />
                    </div>
                </div>
                <div class="rTable" >
                    <div class="rTableRow_title" >
                        <div class="rTableCell_header">
                            Personal Particulars<br/>
                            個人資料
                        </div>
                    </div>
                </div>
                <div class="rTable" >
                    
                    <div class="rTableRow" >
                        <div class="rTableCell_title">
                            Name of Policy Holder<br/>
                            保單持有人姓名
                        </div>
                        <div class="rTableCell">
                            <!-- 
                            <apex:repeat value="{!policyInfo.holder}" var="holder">
                                {!holder.fullName}<br/>
                            </apex:repeat>
                            -->
                            {!memoHeader.Policy_Holder_Name__c}
                        </div>
                    </div>
                    <div class="rTableRow" >
                        <div class="rTableCell_title">
                            Name of Person Insured<br/>
                            受保人姓名
                        </div>
                        <div class="rTableCell">
                            <!-- 
                            <apex:repeat value="{!policyInfo.insuredList}" var="insured">
                                {!insured.fullName}<br/>
                            </apex:repeat>
                            -->
                            {!memoHeader.Person_Insured_Name__c}
                        </div>
                    </div>
                    <div class="rTableRow" >
                        <div class="rTableCell_title">
                            Policy No. <br/>
                            保單編號
                        </div>
                        <div class="rTableCell">
                            {!memoHeader.Policy_Number__c}
                        </div>
                    </div>
                    <div class="rTableRow" >
                        <div class="rTableCell_title">
                            Claim No. <br/>
                            索償編號
                        </div>
                        <div class="rTableCell">
                            {!memoHeader.Claim_No__c}
                        </div>
                    </div>
                    
                </div>
                
                <apex:repeat value="{!memoHeader.Pending_Memos__r}" var="memo">
                    <div style="{!IF(memo.Response__c == '', 'display:none;', '')}">
                        <div class="rTable" >
                            <div class="rTableRow_title" >
                                <div class="rTableCell_header">
                                    <apex:outputText value="Question and Reply" ></apex:outputText><br/>
                                    問題及回覆
                                </div>
                            </div>
                        </div>
                        <div class="rTable" >
                            <div class="rTableRow" >
                                <div class="rTableCell_title">
                                    Question<br/>
                                    問題
                                </div>
                                <div class="rTableCell">
                                    <!-- Rancho_PI53_20211230: avoid overflow if the text length larger than max length -->
                                    <!-- {!memo.Question__c} -->
                                    <apex:outputText value="{!memo.Question__c}" escape="false"/>
                                </div>
                            </div>
                            <div class="rTableRow" >
                                <div class="rTableCell_title">
                                    Reply<br/>
                                    回覆
                                </div>
                                <div class="rTableCell">
                                    <!-- Rancho_PI53_20211230: avoid overflow if the text length larger than max length -->
                                    <!-- {!memo.Response__c} -->
                                    <apex:outputText value="{!memo.Response__c}" escape="false"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </apex:repeat>
                
            </div>
        </div>
    </div>
    
</apex:page>