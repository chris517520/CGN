<apex:page docType="html-5.0" sidebar="false" showHeader="false" title="Get Protected" controller="ESalesApplicationPortableCtrl">
    <head>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width"/>

    </head>

    <div class="bs col-xs-12 form-horizontal">
    <apex:form id="confirmationfrm">
        <apex:actionFunction action="{!removeChild}" name="removeChild" namespace="ServerESales"
                             reRender="wrapper,wrapperApp" oncomplete="Cigna.ESales.finishLoading();" status="loader-icon"
        />
        <apex:actionFunction action="{!removeSpouse}" name="removeSpouse" namespace="ServerESales"
                             reRender="wrapper,wrapperApp" oncomplete="Cigna.ESales.finishLoading();" status="loader-icon"
        />
        <apex:actionFunction action="{!removeRider}" name="removeRider" namespace="ServerESales" 
                             reRender="wrapper,wrapperApp,confirmation-section" oncomplete="Cigna.ESales.finishLoading();" status="loader-icon"
        />
        <apex:actionFunction action="{!nextStep}" name="nextStep" namespace="ServerESales" 
                         reRender="wrapper,wrapperApp,errmessage" oncomplete="refreshEsignature();retrieveAUWURL_JS();Cigna.ESales.finishLoading();" status="loader-icon"
        />
        <apex:actionFunction action="{!prevStep}" name="prevStep" namespace="ServerESales" 
                             reRender="wrapper,wrapperApp" oncomplete="Cigna.ESales.finishLoading();" status="loader-icon"
        />
        <apex:actionFunction action="{!saveRecord}" name="saveRecord" namespace="ServerESales" 
                             reRender="wrapper,wrapperApp" status="loader-icon"
        />

        <apex:outputPanel id="confirmation-section" rendered="{!currentStep == STEP_CONFIRMATION}" styleClass="bs row" layout="block">
            <script>
                Cigna.ESales.clearUWStatusPolling();
                $('div.header-bar').show();
                window.scrollTo(0, 0);
            </script>
            <apex:inputHidden id="remove-child-id" value="{!removeChildId}" />
            <apex:inputHidden id="remove-rider-code" value="{!removeRiderCode}" />
            <div class="bs col-xs-12 form-horizontal">
                <apex:outputPanel rendered="{!txn.Basic_Plan_Code__c != 'DMB'}">
                <div class="bs" style="padding-bottom: 20px;">
                    <p><h4 class="bs cigna-fg-blue-medium">{!$Label.Application_Result}</h4></p>

                    <!-- IBM KOU PORTABLE R2 20180717 Start-->
                    <apex:outputPanel rendered="{!isCustomerPortal}">
                        <apex:outputPanel rendered="{!(txn.AUW_Overall_Result__c != 'Decline')}" layout="none">
                            <p>{!$Label.eSales_AUW_result_Accept}</p>
                        </apex:outputPanel>

                        <apex:outputPanel rendered="{!(txn.AUW_Overall_Result__c == 'Decline')}" layout="none">
                             <p>{!$Label.eSales_Brk_AUW_Result_Decline}</p>
                        </apex:outputPanel>                    
                    </apex:outputPanel>


                    <apex:outputPanel rendered="{!!isCustomerPortal}">
                        <apex:outputPanel rendered="{!(txn.AUW_Overall_Result__c != 'Decline')}" layout="none">
                            <p>{!$Label.eSales_Brk_AUW_Result_Accept}</p>
                        </apex:outputPanel>

                        <apex:outputPanel rendered="{!(txn.AUW_Overall_Result__c == 'Decline')}" layout="none">
                             <p>{!$Label.eSales_Brk_AUW_Result_Decline}</p>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <!-- IBM KOU PORTABLE R2 20180717 End-->
                </div>
                </apex:outputPanel>
            </div>

            <apex:outputPanel rendered="{!txn.Basic_Plan_Code__c != 'DMB'}">
                <apex:outputPanel id="holder-info-confirm" rendered="{!currentStep == STEP_CONFIRMATION && CONTAINS(txn.Covered_People_Info__c,'01')}" styleClass="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12 form-horizontal">
                        <div class="bs" style="padding-bottom: 20px;">
                            <h4 class="bs cigna-fg-blue-medium">{!IF((txn.PH_is_PI__c || isCustomerPortal), $Label.Policy_Holder_s_Application, $Label.Policy_Holder_s_Information)}</h4>
                        </div>
                        <apex:outputPanel styleClass="bs form-group" layout="block" rendered="{!txn.PH_is_PI__c || isCustomerPortal}">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$Label.Application_Result}" for="Confirm-Application-Result"/>
                            </div>
                            <div class="bs col-sm-9">
                                <!-- Modified by IBM(Roy) due to PEI-124 START--><!-- Addition Modification due to PEI-148/Portable R2-->
                                <apex:outputPanel rendered="{!txn.AUW_Result_PH__c == 'Accept' && !hasExclusionPH}" layout="none">
                                <!-- <apex:outputPanel rendered="{!txn.AUW_Result_PH__c == 'Accept'}" layout="none"> -->
                                    <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept}</p>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!txn.AUW_Result_PH__c == 'Accept' && hasExclusionPH}" layout="none">
                                    <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept_With_Condition}</p>
                                </apex:outputPanel>
                                <!-- Modified by IBM(Roy) due to PEI-124 END--><!-- Addition Modification due to PEI-148/Portable R2 -->
                                <apex:outputPanel rendered="{!txn.AUW_Result_PH__c == 'Referred'}" layout="none">
                                    <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!txn.AUW_Result_PH__c == 'Decline'}" layout="none">
                                    <p><i class="bs cigna-fg-red-alert fa fa-times-circle fg-lg"></i> {!$Label.AUW_Overall_Decline}</p>
                                </apex:outputPanel>

                            </div>
                        </apex:outputPanel>
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Policy_Holder_First_Name__c.Label}" for="Confirm-PH-Firstname"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:outputText id="Confirm-PH-Firstname" value="{!txn.Policy_Holder_First_Name__c}"
                                />
                            </div>
                        </div>
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Policy_Holder_Last_Name__c.Label}" for="Confirm-PH-Lastname"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:outputText id="Confirm-PH-Lastname" value="{!txn.Policy_Holder_Last_Name__c}"
                                />
                            </div>
                        </div>
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <!--<apex:outputLabel value="{!IF(isCustomerPortal, $Label.HKID, $ObjectType.ESales_Transaction__c.Fields.HKID__c.Label)}" for="Confirm-PH-HKID"/>-->
                                <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.HKID__c.Label}" for="Confirm-PH-HKID"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:outputText id="Confirm-PH-HKID" value="{!txn.HKID__c}"
                                />
                            </div>
                        </div>
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Date_of_Birth_PH__c.Label}" for="Confirm-PH-DOB"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:outputText id="Confirm-PH-DOB" value="{0, date, yyyy/MM/dd}">
                                    <apex:param value="{!txn.Date_of_Birth_PH__c}" />
                                </apex:outputText>
                            </div>
                        </div>
                        <!--<apex:outputPanel rendered="{!hasExclusionPH && txn.AUW_Overall_Result__c != 'Referred'}" layout="none">-->
                        <!-- Ray:Show the exclusion -->
                        <apex:outputPanel rendered="{!hasExclusionPH && txn.AUW_Result_PH__c == 'Accept'}" layout="none">                    
                            <div class="bs form-group">
                                <div class="bs col-sm-3">
                                    <apex:outputLabel value="{!$Label.eSales_Exclusion}" for="Confirm-Exclusion"/>
                                </div>
                                <div class="bs col-sm-9">
                                    <apex:repeat value="{!exclusionPH}" var="ph">
                                        <p>{!ph}</p>
                                    </apex:repeat>
                                </div>
                            </div>
                        </apex:outputPanel>
                    </div>
                </apex:outputPanel>
                <!-- <apex:outputPanel id="spouse-info-confirm" rendered="{!currentStep == STEP_CONFIRMATION && isBrokerPortal && ((txn.Number_of_Adult__c != null && txn.Number_of_Adult__c > 1) || !txn.PH_is_PI__c )}" styleClass="bs col-xs-12 form-horizontal"> -->
                <apex:outputPanel id="spouse-info-confirm" rendered="{!currentStep == STEP_CONFIRMATION && CONTAINS(txn.Covered_People_Info__c,'02')}" styleClass="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <div class="bs" style="padding-bottom: 20px;">
                        <h4 class="bs cigna-fg-blue-medium"><!--{!$Label.Spouse_s_Application}-->
                            <apex:outputPanel rendered="{! txn.Number_of_Adult__c < 2 || (txn.Number_of_Adult__c >= 2 && !txn.Is_Adult_1_the_Policy_Holder__c)}">
                                {!$Label.Esales_Adult_1_s_Application}
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.Number_of_Adult__c >= 2 && txn.Is_Adult_1_the_Policy_Holder__c}">
                                {!$Label.Esales_Adult_2_s_Application}
                            </apex:outputPanel>
                        </h4>
                        <apex:outputPanel rendered="{!(txn.AUW_Result_PH__c == 'Accept' && txn.AUW_Result_PI__c != 'Decline') || txn.AUW_Overall_Result__c == 'Referred'}" styleClass="onclick-pointer" style="float: right;" onclick="ServerESales.removeSpouse();">
                            <i class="cigna-fg-orange-medium" aria-hidden="true">{!$Label.eSales_Remove}</i> 
                        </apex:outputPanel>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$Label.Application_Result}" for="Confirm-Application-Result"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputPanel rendered="{!txn.AUW_Result_PI__c == 'Accept' && !hasExclusionPI}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_PI__c == 'Accept' && hasExclusionPI}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept_With_Condition}</p>
                            </apex:outputPanel>
                            <!--Ray Update: If overall result is referral and PI is declined, then PI is Referral-->
                            <apex:outputPanel rendered="{!txn.AUW_Result_PI__c == 'Referred'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_PI__c == 'Decline' && txn.AUW_Overall_Result__c != 'Referred'}" layout="none">
                                <p><i class="bs cigna-fg-red-alert fa fa-times-circle fg-lg"></i> {!$Label.AUW_Overall_Decline}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_PI__c == 'Decline' && txn.AUW_Overall_Result__c == 'Referred'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>
                            <!--Ray Update: End-->

                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.PI_First_Name__c.Label}" for="Confirm-PI-Firstname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-PI-Firstname" value="{!txn.PI_First_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.PI_Last_Name__c.Label}" for="Confirm-PI-Lastname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-PI-Lastname" value="{!txn.PI_Last_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <!--<apex:outputLabel value="{!IF(isCustomerPortal, $Label.HKID, $ObjectType.ESales_Transaction__c.Fields.HKID__c.Label)}" for="Confirm-PH-HKID"/>-->
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.PI_HKID__c.Label}" for="Confirm-PI-HKID"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-PI-HKID" value="{!txn.PI_HKID__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Date_of_Birth_PI__c.Label}" for="Confirm-PI-DOB"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-PI-DOB" value="{0, date, yyyy/MM/dd}">
                                <apex:param value="{!txn.Date_of_Birth_PI__c}" />
                            </apex:outputText>
                        </div>
                    </div>
                    <!--<apex:outputPanel rendered="{!hasExclusionPI && txn.AUW_Overall_Result__c != 'Referred'}" layout="none">-->
                    <!-- Ray:Show the exclusion -->
                    <apex:outputPanel rendered="{!hasExclusionPI && txn.AUW_Result_PI__c == 'Accept'}" layout="none">               
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$Label.eSales_Exclusion}" for="Confirm-Exclusion"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:repeat value="{!exclusionPI}" var="pi">
                                    <p>{!pi}</p>
                                </apex:repeat>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>
                
                <apex:outputPanel id="child-01-info-confirm" rendered="{!currentStep == STEP_CONFIRMATION && CONTAINS(txn.Covered_People_Info__c,'03')}" styleClass="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <div class="bs" style="padding-bottom: 20px;">
                        <h4 class="bs cigna-fg-blue-medium">{!$Label.Child_1_s_Application}</h4>
                    </div>
                    <div id="removeChild1" class="bs" style="padding-bottom: 20px;">
                        <apex:outputPanel rendered="{!(txn.AUW_Result_PH__c == 'Accept' && txn.AUW_Result_C1__c != 'Decline') || txn.AUW_Overall_Result__c == 'Referred'}" styleClass="onclick-pointer" style="float: right;" onclick="Cigna.ESales.removeChild('{!txn.HKID_Child_1__c}');">
                        <i class="cigna-fg-orange-medium" aria-hidden="true">{!$Label.eSales_Remove}</i> 
                        </apex:outputPanel>
                    </div>

                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$Label.Application_Result}" for="Confirm-Application-ResultC1"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputPanel rendered="{!txn.AUW_Result_C1__c == 'Accept' && !hasExclusionC1}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_C1__c == 'Accept' && hasExclusionC1}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept_With_Condition}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_C1__c == 'Referred'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c != 'Referred' && txn.AUW_Result_C1__c == 'Decline'}" layout="none">
                                <p><i class="bs cigna-fg-red-alert fa fa-times-circle fg-lg"></i> {!$Label.AUW_Overall_Decline}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c == 'Referred' && txn.AUW_Result_C1__c == 'Decline'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>

                        </div>
                    </div>

                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Child_1_First_Name__c.Label}" for="Confirm-CH1-Firstname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH1-Firstname" value="{!txn.Child_1_First_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Child_1_Last_Name__c.Label}" for="Confirm-CH1-Lastname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH1-Lastname" value="{!txn.Child_1_Last_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.HKID_Child_1__c.Label}" for="Confirm-CH1-HKID"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputField id="Confirm-CH1-HKID" value="{!txn.HKID_Child_1__c}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Date_of_Birth_Child_1__c.Label}" for="Confirm-CH1-DOB"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH1-DOB" value="{0, date, yyyy/MM/dd}">
                                <apex:param value="{!txn.Date_of_Birth_Child_1__c}" />
                            </apex:outputText>
                        </div>
                    </div>
                   <!--<apex:outputPanel rendered="{!hasExclusionC1 && txn.AUW_Overall_Result__c != 'Referred'}" layout="none">--> 
                    <!-- Ray:Show the exclusion -->
                    <apex:outputPanel rendered="{!hasExclusionC1 && txn.AUW_Result_C1__c == 'Accept'}" layout="none">
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$Label.eSales_Exclusion}" for="Confirm-Exclusion"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:repeat value="{!exclusionC1}" var="c1">
                                    <p>{!c1}</p>
                                </apex:repeat>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputPanel id="child-02-info-confirm" rendered="{!currentStep == STEP_CONFIRMATION && CONTAINS(txn.Covered_People_Info__c,'04')}" styleClass="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <div class="bs" style="padding-bottom: 20px;">
                        <h4 class="bs cigna-fg-blue-medium">{!$Label.Child_2_s_Application}</h4>
                    </div>
                    <div id="removeChild2" class="bs" style="padding-bottom: 20px;">
                        <apex:outputPanel rendered="{!(txn.AUW_Result_PH__c == 'Accept' && txn.AUW_Result_C2__c != 'Decline') || txn.AUW_Overall_Result__c == 'Referred'}" styleClass="onclick-pointer" style="float: right;" onclick="Cigna.ESales.removeChild('{!txn.HKID_Child_2__c}');">
                        <i class="cigna-fg-orange-medium" aria-hidden="true">{!$Label.eSales_Remove}</i> 
                        </apex:outputPanel>
                    </div>

                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$Label.Application_Result}" for="Confirm-Application-ResultC2"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputPanel rendered="{!txn.AUW_Result_C2__c == 'Accept' && !hasExclusionC2}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_C2__c == 'Accept' && hasExclusionC2}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept_With_Condition}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_C2__c == 'Referred'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c != 'Referred' && txn.AUW_Result_C2__c == 'Decline'}" layout="none">
                                <p><i class="bs cigna-fg-red-alert fa fa-times-circle fg-lg"></i> {!$Label.AUW_Overall_Decline}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c == 'Referred' && txn.AUW_Result_C2__c == 'Decline'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>

                        </div>
                    </div>

                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Child_2_First_Name__c.Label}" for="Confirm-CH2-Firstname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH2-Firstname" value="{!txn.Child_2_First_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Child_2_Last_Name__c.Label}" for="Confirm-CH2-Lastname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH2-Lastname" value="{!txn.Child_2_Last_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.HKID_Child_2__c.Label}" for="Confirm-CH2-HKID"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputField id="Confirm-CH2-HKID" value="{!txn.HKID_Child_2__c}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Date_of_Birth_Child_2__c.Label}" for="Confirm-CH2-DOB"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH2-DOB" value="{0, date, yyyy/MM/dd}">
                                <apex:param value="{!txn.Date_of_Birth_Child_2__c}" />
                            </apex:outputText>
                        </div>
                    </div>
                    <!--<apex:outputPanel rendered="{!hasExclusionC2 && txn.AUW_Overall_Result__c != 'Referred'}" layout="none">-->
                    <!-- Ray:Show the exclusion -->
                    <apex:outputPanel rendered="{!hasExclusionC2 && txn.AUW_Result_C2__c == 'Accept'}" layout="none">
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$Label.eSales_Exclusion}" for="Confirm-Exclusion"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:repeat value="{!exclusionC2}" var="c2">
                                    <p>{!c2}</p>
                                </apex:repeat>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputPanel id="child-03-info-confirm" rendered="{!currentStep == STEP_CONFIRMATION && CONTAINS(txn.Covered_People_Info__c,'05')}" styleClass="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <div class="bs" style="padding-bottom: 20px;">
                        <h4 class="bs cigna-fg-blue-medium">{!$Label.Child_3_s_Application}</h4>
                    </div>
                    <div id="removeChild3" class="bs" style="padding-bottom: 20px;">
                        <apex:outputPanel rendered="{!(txn.AUW_Result_PH__c == 'Accept' && txn.AUW_Result_C3__c != 'Decline') || txn.AUW_Overall_Result__c == 'Referred'}" styleClass="onclick-pointer" style="float: right;" onclick="Cigna.ESales.removeChild('{!txn.HKID_Child_3__c}');">
                        <i class="cigna-fg-orange-medium" aria-hidden="true">{!$Label.eSales_Remove}</i> 
                        </apex:outputPanel>
                    </div>

                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$Label.Application_Result}" for="Confirm-Application-ResultC3"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputPanel rendered="{!txn.AUW_Result_C3__c == 'Accept' && !hasExclusionC3}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_C3__c == 'Accept' && hasExclusionC3}" layout="none">
                                <p><i class="bs cigna-fg-green-medium fa fa-check-circle fg-lg"></i> {!$Label.AUW_Overall_Accept_With_Condition}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Result_C3__c == 'Referred'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c != 'Referred' && txn.AUW_Result_C3__c == 'Decline'}" layout="none">
                                <p><i class="bs cigna-fg-red-alert fa fa-times-circle fg-lg"></i> {!$Label.AUW_Overall_Decline}</p>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c == 'Referred' && txn.AUW_Result_C3__c == 'Decline'}" layout="none">
                                <p><i class="ci-hk-clipboard" style="color: #E35205 !important;"></i> {!$Label.AUW_Overall_Refer}</p>
                            </apex:outputPanel>

                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Child_3_First_Name__c.Label}" for="Confirm-CH3-Firstname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH3-Firstname" value="{!txn.Child_3_First_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Child_3_Last_Name__c.Label}" for="Confirm-CH3-Lastname"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH3-Lastname" value="{!txn.Child_3_Last_Name__c}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.HKID_Child_3__c.Label}" for="Confirm-CH3-HKID"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputField id="Confirm-CH3-HKID" value="{!txn.HKID_Child_3__c}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Date_of_Birth_Child_3__c.Label}" for="Confirm-CH3-DOB"/>
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Confirm-CH3-DOB" value="{0, date, yyyy/MM/dd}">
                                <apex:param value="{!txn.Date_of_Birth_Child_3__c}" />
                            </apex:outputText>
                        </div>
                    </div>
                    <!--<apex:outputPanel rendered="{!hasExclusionC3 && txn.AUW_Overall_Result__c != 'Referred'}" layout="none">-->
                    <!-- Ray:Show the exclusion -->
                    <apex:outputPanel rendered="{!hasExclusionC3 && txn.AUW_Result_C3__c == 'Accept'}" layout="none">
                        <div class="bs form-group">
                            <div class="bs col-sm-3">
                                <apex:outputLabel value="{!$Label.eSales_Exclusion}" for="Confirm-Exclusion"/>
                            </div>
                            <div class="bs col-sm-9">
                                <apex:repeat value="{!exclusionC3}" var="c3">
                                    <p>{!c3}</p>
                                </apex:repeat>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:outputPanel>

            <apex:outputPanel rendered="{!txn.Basic_Plan_Code__c != 'DMB'}">
            <div class="bs col-xs-12 form-horizontal">
                <div class="bs col-xs-12"><hr /></div>
                <div class="bs form-group">
                    <div class="bs col-sm-3">
                        <label>{!$Label.Selected_Benefit}</label>
                    </div>
                    <div class="bs col-sm-9">
                        {!product.Name__c}
                    </div>
                </div>
                <apex:outputPanel rendered="{!hasRiders}" styleClass="bs form-group" layout="block">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Riders__c.Label}" for="Confirm-Riders"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:repeat value="{!selectedRiders}" var="rider">
                        <p>{!rider.Name__c} <span id="reridericon-{!rider.Product_Code__c}" class="onclick-pointer" onclick="Cigna.ESales.removeRider('{!rider.Product_Code__c}');"><i class="fa fa-trash fa-lg cigna-fg-orange-medium" aria-hidden="true"></i></span></p>
                        </apex:repeat>
                    </div>
                </apex:outputPanel>
                <!-- Modified by IBM(Roy) due to PEI-159/Portable R2 -->
                <!-- <apex:outputPanel rendered="{!!ISBLANK(txn.Plan_Level__c)}" styleClass="bs form-group" layout="block"> -->
                <apex:outputPanel rendered="{!!ISBLANK(planLevel)}" styleClass="bs form-group" layout="block">
                <!-- Modified by IBM(Roy) due to PEI-159/Portable R2 -->
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Plan_Level__c.Label}" for="Confirm-PlanLevel"/>
                    </div>
                    <div class="bs col-sm-9">
                        <!-- Modified by IBM(Roy) due to PEI-159/Portable R2 -->
                        <!-- <apex:outputField id="Confirm-PlanLevel" value="{!txn.Plan_Level__c}" /> -->
                        <!-- <apex:outputField id="Confirm-PlanLevel" value="{!planLevel}" /> -->
                        <apex:outputText id="Confirm-PlanLevel" value="{!planLevel}" />
                        <!-- Modified by IBM(Roy) due to PEI-159/Portable R2 -->
                    </div>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!!ISBLANK(txn.Area_of_Coverage__c)}" styleClass="bs form-group" layout="block">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Area_of_Coverage__c.Label}" for="Confirm-AreaOfCoverage"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputField id="Confirm-AreaOfCoverage" value="{!txn.Area_of_Coverage__c}" />
                    </div>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!!ISBLANK(txn.Deductible__c)}" styleClass="bs form-group" layout="block">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Deductible__c.Label}" for="Confirm-Deductible"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputField id="Confirm-Deductible" value="{!txn.Deductible__c}" />
                    </div>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!!ISBLANK(txn.Level_of_Coverage__c)}" styleClass="bs form-group" layout="block">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Level_of_Coverage__c.Label}" for="Confirm-LevelCoverage"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputText id="Confirm-LevelCoverage" value="{!levelofCov}" />
                    </div>
                </apex:outputPanel>

                <div class="bs form-group">
                    <div class="bs col-sm-3 col-xs-12">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Contact_No__c.Label}" for="Confirm-PH-ContactNo"/>
                    </div>
                    <div class="bs col-sm-2 col-xs-4">
                        <apex:outputField id="Confirm-PH-CountryCode" value="{!txn.Country_Code__c}" />
                    </div>
                    <div class="bs col-sm-7 col-xs-8">
                        <apex:outputText id="Confirm-PH-ContactNo" value="{!paramContactNo}" />
                    </div>
                </div>
                <div class="bs form-group">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Address_Line_1__c.Label}" for="Confirm-PH-Address-1"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputText id="Confirm-PH-Address-1" value="{!txn.Address_Line_1__c}" />
                    </div>
                </div>
                <div class="bs form-group">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Address_Line_2__c.Label}" for="Confirm-PH-Address-2"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputText id="Confirm-PH-Address-2" value="{!txn.Address_Line_2__c}" />
                    </div>
                </div>
                <div class="bs form-group">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Address_Line_3__c.Label}" for="Confirm-PH-Address-3"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputText id="Confirm-PH-Address-3" value="{!txn.Address_Line_3__c}" />
                    </div>
                </div>
                <div class="bs form-group">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Address_Line_4__c.Label}" for="Confirm-PH-Address-4"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputText id="Confirm-PH-Address-4" value="{!txn.Address_Line_4__c}" />
                    </div>
                </div>
                <div class="bs form-group">
                    <div class="bs col-sm-3">
                        <apex:outputLabel value="{!$ObjectType.ESales_Transaction__c.Fields.Email_Address__c.Label}" for="Confirm-PH-EmailAddress"/>
                    </div>
                    <div class="bs col-sm-9">
                        <apex:outputText id="Confirm-PH-EmailAddress" value="{!txn.Email_Address__c}" />
                    </div>
                </div>
            </div>
            </apex:outputPanel>
            
            <!-- GL31 jack add -->
            <apex:outputPanel rendered="{!isBrokerPortal}">
                <div class="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12">
                        <hr />
                    </div>
                    <!-- Q1 part -->
                    <div class="bs form-group">
                        <div class="bs col-sm-9">
                            <apex:outputLabel style="color: #188CCC" value="Q1. {!transField['Assessment_Q_1'][$Label.Header_Language_Code_Current]}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!transField['Q1A1'][$Label.Header_Language_Code_Current]} / {!transField['Hospitalization'][$Label.Header_Language_Code_Current]}"
                                for="Q1A1" />
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Q1A1" value="{!assessmentResult.Q1A1}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!transField['Q1A2'][$Label.Header_Language_Code_Current]} / {!transField['Critical_Illness'][$Label.Header_Language_Code_Current]}"
                                for="Q1A2" />
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Q1A2" value="{!assessmentResult.Q1A2}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!transField['Q1A3'][$Label.Header_Language_Code_Current]} / {!transField['Permanent_Total_Disability'][$Label.Header_Language_Code_Current]}"
                                for="Q1A3" />
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Q1A3" value="{!assessmentResult.Q1A3}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!transField['Q1A4'][$Label.Header_Language_Code_Current]} / {!transField['Outpatient_and_others'][$Label.Header_Language_Code_Current]}"
                                for="Q1A4" />
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Q1A4" value="{!assessmentResult.Q1A4}" />
                        </div>
                    </div>
                    <!-- Q2 part -->
                    <div class="bs form-group">
                        <div class="bs col-sm-9">
                            <apex:outputLabel style="color: #188CCC" value="Q2. {!transField['Assessment_Q_2'][$Label.Header_Language_Code_Current]}"
                            />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!transField['Q2A1'][$Label.Header_Language_Code_Current]} / {!transField['Indemnity'][$Label.Header_Language_Code_Current]}"
                                for="Q2A1" />
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Q2A1" value="{!assessmentResult.Q2A1}" />
                        </div>
                    </div>
                    <div class="bs form-group">
                        <div class="bs col-sm-3">
                            <apex:outputLabel value="{!transField['Q2A2'][$Label.Header_Language_Code_Current]} / {!transField['Non_indemnity'][$Label.Header_Language_Code_Current]}"
                                for="Q2A2" />
                        </div>
                        <div class="bs col-sm-9">
                            <apex:outputText id="Q2A2" value="{!assessmentResult.Q2A2}" />
                        </div>
                    </div>
                </div>
            </apex:outputPanel>

            <!-- appeal function start -->
            <apex:outputPanel id="showappealQuestion">
            <apex:outputPanel rendered="{!isBrokerPortal && txn.AUW_Overall_Result__c != 'Referred' && !(txn.AUW_Overall_Result__c == 'Accept' && !hasExclusion && !hasDecline) && !isAppealYes && !isAppealNo}">
                <div class="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <!-- Modified by IBM(Roy) on 20180503 due to CR3 START-->
                    <apex:outputPanel rendered="{!txn.AUW_Result_PH__c != 'Decline' && txn.AUW_Result_PI__c != 'Decline' && txn.AUW_Result_C1__c != 'Decline' && txn.AUW_Result_C2__c != 'Decline' && txn.AUW_Result_C3__c != 'Decline'}">
                        <div class="bs form-group">
                            <div class="bs col-xs-12">
                                <p>{!$Label.eSales_Appeal_Question}</p>
                            </div>
                        </div>

                        <div id="action-bar-desktop" class="bs hidden-xs text-center" style="padding-top:10px;padding-bottom:20px;">
                            <a id="eSales-home-btn" class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" role="button" onclick="Cigna.ESales.appealQuestionYes(); return false;">
                                {!$Label.eSales_Yes}
                            </a>  
                            <a class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" role="button" onclick="Cigna.ESales.appealQuestionNo();return false;">
                                {!$Label.eSales_No}
                            </a> 

                        </div>
                    </apex:outputPanel>
                    <!-- Modified by IBM(Roy) on 20180503 due to CR3 START-->
                    <!-- Added by IBM(Roy) on 20180503 due to CR3 START-->
                    <!-- <apex:outputPanel rendered="{!txn.AUW_Result_PH__c == 'Decline' || txn.AUW_Result_PI__c == 'Decline' || txn.AUW_Result_C1__c == 'Decline' || txn.AUW_Result_C2__c == 'Decline' || txn.AUW_Result_C3__c == 'Decline'}" layout="none">
                        <div id="action-bar-desktop" class="bs hidden-xs text-center" style="padding-top:10px;padding-bottom:20px;">
                            <a id="eSales-bkQuote-btn" class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" role="button" onclick="Cigna.ESales.redirectToQuote();return false;">
                                {!$Label.Esales_Btn_Back_Quote}
                            </a>
                        </div>
                        <script></script>
                    </apex:outputPanel> -->
                    <!-- Added by IBM(Roy) on 20180503 due to CR3 END-->
                    <!--<div id="action-bar" class="bs cigna-floating-bottom-panel visible-xs">

                        <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                            <a id="eSales-home-btn" href="javascript:void(0);" class="action-btn cigna-fg-white" role="button" 
                               onclick="Cigna.ESales.appealQuestionYes(); return false;">
                                {!$Label.eSales_Yes}
                            </a> 
                            <a class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" role="button" onclick="Cigna.ESales.appealQuestionNo();return false;">
                                {!$Label.eSales_No}
                            </a> 
                        </div>

                    </div>-->

                    <div id="mobile-app-padding" class="bs row" style="display: none; padding-bottom: 250px;">
                        <div class="bs col-xs-12"></div>
                    </div>
                    <script>
                        if (Cigna.Util.isIOS() && Cigna.Util.isSalesforce1() && Cigna.Util.isBrokerPortal()) {

                            $('#mobile-app-padding').css('display', 'block');
                            /*
                            $('html').css('position', 'fixed').css('overflow', 'auto').css('width', '100%').css('height', '100%');
                            $('body').css('position', 'fixed').css('overflow-x', 'scroll').css('width', '100%').css('height', '100%');
                            */
                        }
                        //$("html, body").animate({ scrollTop: $(document).height() }, "slow");
                    </script>

                </div>
            </apex:outputPanel>
            </apex:outputPanel>

            <apex:outputPanel id="showAppealRemarkUpload">
            <apex:outputPanel rendered="{!(isBrokerPortal && txn.AUW_Overall_Result__c == 'Referred') || isAppealYes}">
                <div class="bs col-xs-12 form-horizontal">
                    <div class="bs">
                        <p><h4 class="bs cigna-fg-blue-medium">{!$Label.eSales_Remarks_to_Cigna_Underwriter}</h4></p>
                        <div style="padding-bottom: 40px;">
                            <apex:inputTextarea value="{!txn.Remark_to_Cigna_UW__c}" rows="5" styleClass="bs col-xs-12" html-placeholder="{!$Label.eSales_appeal_remarks}"/>
                            <br/>
                            <br/>
                            <br/>
                        </div>

                        <div class="snd-loading-div">
                            <span id="snd-loading-phurl" style="display: none;">
                                <div class="bs col-xs-12 col-lg-12 loading-div">
                                    <span class="loading-helper"></span>
                                    <i class="spinner-icon fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </span>
                        </div>

                        <div id="errFileSize" class="alert alert-danger" role="alert" style="display:none;">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.File_size_exceeds_10M}
                        </div>
                        <div id="errFileType" class="alert alert-danger" role="alert" style="display:none;">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.Please_upload_a_valid_file} (i.e. .docx/.doc/.pdf/.jpeg/.png/.tiff)
                        </div>
                        <div id="errNoFile" class="alert alert-danger" role="alert" style="display:none;">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.ErrMasg_Upload_Att}
                        </div>
                        <div id="errUpdateFileMax" class="alert alert-danger" role="alert" style="display:none;">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.eSales_Upload_File_Max}
                        </div>

                        <apex:outputPanel id="uploadUWatt">
                            <script>
                                //CR-56_Link_20220214
                                $('[data-toggle="tooltip"]').tooltip();
                            </script>
                            
                            <div class="bs row content-choice-remark">
                                <div class="col-xs-10 col-sm-11">
                                    <input id="auwAtt" type="file" class="fileInput cigna-validation" onchange="Cigna.ESales.uploadFile('{!paramESalesTxnId}','auwAtt');" style="display:none;"/>
                                    <label for="auwAtt"><i class="ci-hk-outbox content-icon onclick-pointer" aria-hidden="true"/></label>
                                    <label>{!$Label.eSales_AUW_attachment}</label>
                                </div>
                                <!--<div class="col-xs-8 col-sm-10">{!$Label.eSales_AUW_attachment}</div>-->
                                <div class="col-xs-2 col-sm-1"><i class="ci-hk-help helptext-icon pull-right" data-toggle="tooltip" title="{!$Label.Upload_Tooltip}" aria-hidden="true"></i></div>
                                <div class="col-xs-12 col-sm-12" style="padding-bottom:10px;"></div>
                                <div style="padding:20px;">
                                    <apex:outputPanel id="auwAttlist">
                                        <apex:repeat value="{!AUWAttList}" var="uwAtt">
                                            <div att-type="auwAtt" class="col-xs-12 col-sm-12 uploaded-filelist">
                                            {!uwAtt.Name}
                                            <i class="ci-hk-x pull-right onclick-pointer" onclick="removeAttachment('{!uwAtt}');" aria-hidden="true"></i></div>
                                            <div class="col-xs-12 col-sm-12" style="padding-bottom:5px;"></div>
                                        </apex:repeat>
                                    </apex:outputPanel>
                                </div>
                            </div>
                        </apex:outputPanel>

                    </div>
                </div>
            </apex:outputPanel>
            </apex:outputPanel>

            <!-- appeal function end -->
            <apex:outputPanel id="showPaymentMode">
            <!--<apex:outputPanel rendered="{!(isBrokerPortal && ((txn.AUW_Overall_Result__c == 'Accept' && !hasExclusion && !hasDecline) || (isAppealNo && txn.AUW_Overall_Result__c == 'Accept') || (txn.AUW_Overall_Result__c == 'Referred' || isAppealYes))) || (!isBrokerPortal && txn.AUW_Overall_Result__c != 'Decline' && txn.AUW_Overall_Result__c != 'Referred') }">
            
            <apex:outputPanel rendered="{!(isBrokerPortal && ((((txn.AUW_Overall_Result__c == 'Accept' && !hasExclusion && !hasDecline) || (isAppealNo && txn.AUW_Overall_Result__c == 'Accept') || (txn.AUW_Overall_Result__c == 'Referred' || isAppealYes)) && txn.Basic_Plan_Code__c != 'DMB') || ((txn.AUW_Overall_Result__c == 'Accept' && !hasDecline && (!hasExclusion || isAppealYes || isAppealNo)) && txn.Basic_Plan_Code__c == 'DMB'))) || (!isBrokerPortal && txn.AUW_Overall_Result__c != 'Decline' && txn.AUW_Overall_Result__c != 'Referred') }">
            
            <apex:outputPanel rendered="{!(isBrokerPortal && ((txn.AUW_Overall_Result__c == 'Accept' && !hasExclusion && !hasDecline) || (isAppealNo && txn.AUW_Overall_Result__c == 'Accept') || (txn.Basic_Plan_Code__c != 'DMB' && (txn.AUW_Overall_Result__c == 'Referred' || isAppealYes)) || (txn.Basic_Plan_Code__c == 'DMB' && (txn.AUW_Overall_Result__c == 'Referred' && !hasDecline && !hasNoLoadingRefer) || (txn.AUW_Overall_Result__c == 'Accept' && isAppealYes && !hasDecline)))) || (!isBrokerPortal && txn.AUW_Overall_Result__c != 'Decline' && txn.AUW_Overall_Result__c != 'Referred') }">
            -->
            <apex:outputPanel rendered="{!(isBrokerPortal && showPremium) || (!isBrokerPortal && txn.AUW_Overall_Result__c != 'Decline' && txn.AUW_Overall_Result__c != 'Referred') }">

                <div class="bs col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <div class="bs form-group">
                        <div class="bs col-xs-12">
                            <p>{!$Label.Please_select_the_payment_mode}:</p>
                        </div>
                    </div>
                    <div class="bs form-group col-xs-12">
                        <div class="bs cigna-answer-wrapper">
                            <!--
                            <div class="bs cigna-layer-card col-xs-6" data-value="Monthly">
                                <div class="cigna-layer-card-head cigna-fg-white cigna-bg-gray-3 text-center"><h5>{!$Label.Monthly}</h5></div>
                                <div class="cigna-layer-card-desc cigna-bg-white cigna-fg-gray-dark text-center">{!$Label.HKD} {!monthAmount}</div>
                            </div>
                            <div class="bs cigna-layer-card col-xs-6" data-value="Annually">
                                <div class="cigna-layer-card-head cigna-fg-white cigna-bg-gray-3 text-center"><h5>{!$Label.Annually}</h5></div>
                                <div class="cigna-layer-card-desc cigna-bg-white cigna-fg-gray-dark text-center">{!$Label.HKD} {!annualAmount}</div>
                            </div>
                            -->
                            <p>
                                <input type="radio" id="payment-mode-first-01" value="Monthly" name="payment-mode-first" class="bs cigna-question-radio" />
                                <apex:outputText rendered="{!isCustomerPortal}">
                                    <!--Nicole_Levy II_20200626-->
                                    <!--<label for="payment-mode-first-01">{!$Label.Monthly} - {!$Label.HKD} {!monthAmount} (x2) </label>-->
                                    <!-- Rancho_Levy_20201124 -->
                                    <label for="payment-mode-first-01" style="font-weight: bold;">{!transFieldLevy['Monthly_Total_Premium_Including_Levy'][$Label.Header_Language_Code_Current]} : </label>                                        
                                    <div class="bs col-xs-12" >
                                        <ul class="cigna-plan-bullet">
                                                    <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                        <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Premium'][$Label.Header_Language_Code_Current]}" />
                                                        <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(monthAmount, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!monthAmount}" />
                                                            </apex:outputText>
                                                            <apex:outputText >
                                                                (x2)
                                                            </apex:outputText>
                                                        </div>
                                                    </li>
                                                    <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                        <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Levy'][$Label.Header_Language_Code_Current]}" />
                                                        <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(monthLevy, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!monthLevy}" />
                                                            </apex:outputText>
                                                        </div>
                                                   </li>
                                       </ul> 
                                   </div>
                                </apex:outputText>
                                <!-- Rancho_Levy_20201125 -->
                                <apex:outputText rendered="{!isCustomerPortal}">                               
                                    <div class="bs col-xs-12" style="padding-left:35px;padding-top:15px;">
                                        <p>                                    
                                            <label>{!$Label.Monthly_Payment_Note}</label>
                                        </p>
                                    </div>
                                </apex:outputText>
                                                                                   
                                <apex:outputText rendered="{!!isCustomerPortal}">
                                    <!--Nicole_Levy II_20200626-->
                                    <!--<label for="payment-mode-first-01">{!$Label.Monthly} - {!$Label.HKD} {!monthAmount}* (x2) </label>-->
                                    <!-- Rancho_Levy_20201124 -->
                                    <label for="payment-mode-first-01" style="font-weight: bold;">{!transFieldLevy['Monthly_Total_Premium_Including_Levy'][$Label.Header_Language_Code_Current]} : </label>
                                    <div class="bs col-xs-12" >
                                        <ul class="cigna-plan-bullet">
                                                    <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                        <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Premium'][$Label.Header_Language_Code_Current]}" />
                                                        <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(monthAmount, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!monthAmount}" />
                                                            </apex:outputText>
                                                            <apex:outputText >
                                                                (x2)
                                                            </apex:outputText>
                                                        </div>
                                                    </li>
                                                    <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                        <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Levy'][$Label.Header_Language_Code_Current]}" />
                                                        <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(monthLevy, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!monthLevy}" />
                                                            </apex:outputText>
                                                        </div>
                                                    </li>
                                        </ul>
                                    </div>
                                </apex:outputText>
                                
                                <!--Nicole_Levy II_20200626-->
                                <apex:outputText rendered="{!!isCustomerPortal}">                               
                                            <div class="bs col-xs-12" style="padding-left:35px;padding-top:15px;">
                                                <p>                                    
                                                    <label>{!$Label.Monthly_Payment_Note}</label>                                    
                                                </p>
                                            </div>
                                </apex:outputText>
                            </p>
                            <p>
                                <input type="radio" id="payment-mode-first-02" value="Annually" name="payment-mode-first" class="bs cigna-question-radio" />
                                <apex:outputText rendered="{!isCustomerPortal}">
                                    <!--Nicole_Levy II_20200626-->
                                    <!--<label for="payment-mode-first-02">{!$Label.Annually} - {!$Label.HKD} {!annualAmount}</label>-->
                                    <!-- Rancho_Levy_20201124 -->
                                    <label for="payment-mode-first-02" style="font-weight: bold;">{!transFieldLevy['Annually_Total_Premium_Including_Levy'][$Label.Header_Language_Code_Current]} : </label>
                                    <div class="bs col-xs-12" >
                                        <ul class="cigna-plan-bullet">
                                                <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                    <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Premium'][$Label.Header_Language_Code_Current]}" />
                                                    <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(annualAmount, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!annualAmount}" />
                                                            </apex:outputText>
                                                    </div>
                                                </li>
                                                <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                    <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Levy'][$Label.Header_Language_Code_Current]}" />
                                                    <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(annualLevy, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!annualLevy}" />
                                                            </apex:outputText>
                                                    </div>
                                                </li>
                                        </ul>
                                    </div>
                                </apex:outputText>

                                <apex:outputText rendered="{!!isCustomerPortal}">
                                    <!--Nicole_Levy II_20200626-->
                                    <!--<label for="payment-mode-first-02">{!$Label.Annually} - {!$Label.HKD} {!annualAmount} ({!$Label.eSales_Discount_Rate_Annual_1} {!discountRateAnnual} {!$Label.eSales_Discount_Rate_Annual_2})</label>-->
                                    <!-- Rancho_Levy_20201124 -->
                                    <label for="payment-mode-first-02" style="font-weight: bold;">{!transFieldLevy['Annually_Total_Premium_Including_Levy'][$Label.Header_Language_Code_Current]} : </label>
                                    <div class="bs col-xs-12" >
                                        <ul class="cigna-plan-bullet">
                                                <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                    <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Premium'][$Label.Header_Language_Code_Current]}" />
                                                    <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                        <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                        <apex:outputText value="{!IF(BLANKVALUE(annualAmount, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                            <apex:param value="{!annualAmount}" />
                                                        </apex:outputText>
                                                        <apex:outputText escape="false" value=" <label>({!$Label.eSales_Discount_Rate_Annual_1} {!discountRateAnnual} {!$Label.eSales_Discount_Rate_Annual_2})</label>" />
                                                    </div>
                                                </li>
                                                <li class="bs col-sm-12 col-xs-12 no-border-input" >
                                                    <apex:outputText styleClass="bs col-sm-1 col-xs-4 no-border-input" value="{!transFieldLevy['Levy'][$Label.Header_Language_Code_Current]}" />
                                                    <div class="bs col-sm-11 col-xs-8 no-border-input">
                                                            <apex:outputText escape="false" value=":&nbsp;&nbsp;{!$Label.HKD}&nbsp;" />
                                                            <apex:outputText value="{!IF(BLANKVALUE(annualLevy, 0) > 0, '{0,number,##0.00}', '0.00')}" >
                                                                <apex:param value="{!annualLevy}" />
                                                            </apex:outputText>
                                                    </div>
                                                </li>
                                        </ul>
                                    </div>
                                </apex:outputText>
                            </p>
                            
                            <div class="bs col-xs-12" style="padding-top:15px;">
                                <!--Nicole_Levy II_20200626  
                                <p>
                                    <apex:outputText rendered="{!!isCustomerPortal}">
                                        <label>{!$Label.Monthly_Payment_Note}</label>
                                    </apex:outputText>
                                </p>-->
                                <p>
                                    <apex:outputText value="{!transFieldLevy['Payment_Levy_Note'][$Label.Header_Language_Code_Current]}" escape="false" />
                                </p>
                                
                                <apex:inputHidden id="payment-mode" value="{!txn.Payment_Mode__c}" 
                                                  html-class="cigna-validation"
                                                  html-data-msg-required="{!$Label.Error_Please_choose_a_payment_method}" />
                                <!--<div class="bs col-xs-12">
                                    <apex:inputText id="payment-mode" value="{!txn.Payment_Mode__c}" 
                                            style="height:1px; width:1px; border:0px !important; color:#fff ; -webkit-appearance: none" 
                                            onfocus="hiddenonblur(this)" tabindex="-1"/>
                                </div>-->
                                <div id="errSelectPaymode" role="alert" style="display:none;">
                                      <span style="color:red;font-weight: bold;">{!$Label.Please_select_the_payment_mode}</span>
                                </div>
                            </div>

                        </div>
                    </div>

                    <script>
                        /*
                        $('.cigna-layer-card').click(function(evt){
                            $(this).siblings().each(function(idx, elem){
                                $(elem).children('.cigna-bg-green-medium').addClass('cigna-bg-gray-3').removeClass('cigna-bg-green-medium');
                                $(elem).children('.cigna-bg-green-dark').addClass('cigna-bg-white').addClass('cigna-fg-gray-dark').removeClass('cigna-bg-green-dark').removeClass('cigna-fg-white');
                            });
                            $(this).children('.cigna-bg-gray-3').addClass('cigna-bg-green-medium').removeClass('cigna-bg-gray-3');
                            $(this).children('.cigna-bg-white').addClass('cigna-bg-green-dark').addClass('cigna-fg-white').removeClass('cigna-bg-white').removeClass('cigna-fg-gray-dark');
                            
                            
                            $(this).siblings('input[type="hidden"]').val($(this).data('value')).trigger('change');
                        });
                        */
                        //CR-56_Link_20220214
                        $('input.cigna-question-radio').on("change",Cigna.ESales.onRadioChange);

                        var paymentmode = $('input[type="hidden"][id$="payment-mode"]').val();

                        if(paymentmode == 'Monthly'){
                            $("#payment-mode-first-01").prop("checked", true);
                            $("#payment-mode-first-02").prop("checked", false);
                        }else if(paymentmode == 'Annually'){
                            $("#payment-mode-first-01").prop("checked", false);
                            $("#payment-mode-first-02").prop("checked", true);
                        }else{
                            $("#payment-mode-first-01").prop("checked", false);
                            $("#payment-mode-first-02").prop("checked", false);
                            $('input[type="hidden"][id$="payment-mode"]').val('');
                        }

                    </script>
                </div>
                
            </apex:outputPanel>
            </apex:outputPanel>

            <apex:outputPanel id="showTCSelection">
            <apex:outputPanel rendered="{!(txn.AUW_Overall_Result__c == 'Referred' || isAppealYes) || (txn.AUW_Overall_Result__c == 'Accept' && !hasExclusion && !hasDecline) || (isAppealNo && txn.AUW_Overall_Result__c != 'Decline')|| (!isBrokerPortal && txn.AUW_Overall_Result__c == 'Accept')}" styleClass="bs col-xs-12 form-horizontal">
                <div class="bs form-group col-xs-12 form-horizontal">
                    <div class="bs col-xs-12"><hr /></div>
                    <div class="bs cigna-answer-wrapper">
                        <p>
                            <input type="checkbox" id="accept-tc" name="payment-mode-Accept" class="bs cigna-question-checkbox" />
                            <label style="width:auto;" for="accept-tc">{!$Label.I_Accept_The} <a onclick="reallocationToggleOverlayESales();">{!$Label.ESales_Declaration_and_Authorization}</a>.</label>
                            
                        </p>
                        <apex:inputHidden value="{!tandcChecker}" id="select-accept-tc" html-class="cigna-validation"
                                              html-data-msg-required="{!$Label.ESales_Terms_and_Conditions_Warning}" />
                        <!--<div class="bs col-xs-12">
                            <apex:input id="select-accept-tc" value="{!tandcChecker}"
                                        style="height:1px; width:1px; border:0px !important; color:#fff ; -webkit-appearance: none" tabindex="-1"/>
                        </div>-->
                        <div id="errCheckacceptTC" role="alert" style="display:none;">
                              <span style="color:red;font-weight: bold;">{!$label.ESales_Terms_and_Conditions_Warning}</span>
                        </div>
                    </div>
                    <script>
                        //CR-56_Link_20220214
                        $('input#accept-tc').on("change",Cigna.ESales.onCheckboxChangeTC);

                        var acceptTC = $('input[type="hidden"][id$="select-accept-tc"]').val();

                        if(acceptTC == 'true'){
                            $("#accept-tc").prop("checked", true);
                        }else{
                            $("#accept-tc").prop("checked", false);
                        }
                    </script>
                    <div class="bs cigna-answer-wrapper">
                        <p>
                            <input type="checkbox" id="accept-tc-1" name="payment-mode-Accept-1"  class="bs cigna-question-checkbox"/>
                            <label for="accept-tc-1">{!$Label.ESales_Term_and_Conditions}</label>
                            <apex:inputHidden value="{!personalDataAgreement}" id="personalDataAgreement" />
                        </p>
                        
                    </div>
                     <script>
                    //CR-56_Link_20220214
                    $('input#accept-tc-1').on("change",Cigna.ESales.onCheckboxChange);
                    </script>
                </div>
                
                
                <!-- Start Special Centered Box -->
                    <div id="reallocationOverlayESales" style="display:none;">
                        <div id="reallocationSpecialBoxESales" >
                            <a><div id="reallocationCloseOverlayESales" class="glyphicon glyphicon-remove" onclick="reallocationToggleOverlayESales();" ></div></a>
                            <h4>{!$Label.Terms_and_Conditions}</h4>
                            <div style="padding-bottom:10px; border-top: 1px solid #f2f2f2;"></div>
                                <apex:outputPanel rendered="{!isCustomerPortal}">
                                    <apex:outputPanel rendered="{!$Label.Header_Language_Code == 'en_US'}">
                                         <div id="reallocationtccontentESales" style="text-align:left">
                                         <b></b><br/><br/>
                                            1.  , <br/><br/>
                                            2.  <br/><br/>
                                            <!--Comment by Shengt for JOBR-235-->
                                            <!-- 3.  <a href="{!PersonalInformationCollectionStatement_chi}" target="_blank" style="text-decoration: underline;"></a><a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!Privacy_statement_chi}" target="_blank" style="text-decoration: underline;"></a>/()<br/><br/> -->

                                            3.  <a href="{!PersonalInformationCollectionStatement_chi}" target="_blank" style="text-decoration: underline;"></a><a href="{!Privacy_statement_chi}" target="_blank" style="text-decoration: underline;"></a>/()<br/><br/>
                                            4.  <br/><br/>
                                            5.  <br/><br/>
                                            6.  <br/><br/>
                                            7.  <b>({!$Label.Cigna_Address_zh} )30</b><br/><br/>
                                            </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!$Label.Header_Language_Code == 'zh_TW'}">
                                         <div id="reallocationtccontentESales" style="text-align:left">
                                         <b>Declaration and Authorization</b><br/><br/>
                                            1.  I declare that the above statements and answers provided for this application are true and complete to the best of my knowledge.<br/><br/>
                                            2.  I confirm that I and all the persons insured are Hong Kong residents with a valid Hong Kong Identity Card and residency in Hong Kong.<br/><br/>
                                            <!--Comment by Shengt for JOBR-235-->
                                            <!-- 3.  I confirm that I have read and understood the <a href="{!PersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> ("PICS") and <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!Privacy_statement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare. I agree that Cigna Healthcare may use and/or disclose my (the Applicant's) personal information in accordance with the PICS. I understand that I have the right to opt out of the use of my personal information for direct marketing purposes by ticking the box below or in accordance with the PICS. I understand that opting out will mean that Cigna will not be able to send me any direct marketing, targeted or special offers in the future.<br/><br/> -->

                                            3.  I confirm that I have read and understood the <a href="{!PersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> ("PICS") and <a href="{!Privacy_statement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare. I agree that Cigna Healthcare may use and/or disclose my (the Applicant's) personal information in accordance with the PICS. I understand that I have the right to opt out of the use of my personal information for direct marketing purposes by ticking the box below or in accordance with the PICS. I understand that opting out will mean that Cigna Healthcare will not be able to send me any direct marketing, targeted or special offers in the future.<br/><br/>
                                            4.  I agree that the insurance coverage applied for shall only take effect from the Commencement Date as specified in the Policy Schedule.<br/><br/>
                                            5.  I agree that acceptance of any policy issued on this application will constitute an agreement to its terms and condition as well as notifications of any changes specified by Cigna Healthcare in this policy.<br/><br/>
                                            6.  I hereby authorize, and confirm that Proposed Person(s) Insured has / have authorized, any licensed physician, medical practitioner, hospital, clinic or other medical or medically related facility, insurance company or other organization, institution or person, that has any records or knowledge of my or the Proposed Person(s) Insured's health to give to Cigna Healthcare and its reinsurers any such information for the purpose of assessment of this insurance proposal or subsequent assessment of any insurance claim under the policy that may be issued pursuant to this application. A photographic copy of this authorization shall be as valid as the original.<br/><br/>
                                            7.  <b>Cancellation Rights and Refund of Premium(s): I understand that I have the right to cancel and obtain a refund of any premium(s) paid by giving written notice. Such notice must be signed by me and received directly by Cigna Worldwide General Insurance Company Limited which is located at {!$Label.Cigna_Address_en} within 30 days after the delivery of the policy or issue of a Notice to the policyholder or the policyholder's representative, whichever is the earlier.</b><br/><br/>
                                         </div>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!isBrokerPortal}">
                                    <apex:outputPanel rendered="{!$Label.Header_Language_Code == 'en_US'}">
                                        <div id="reallocationtccontentESales" style="text-align:left">
                                        <b></b><br/><br/>
                                        1.  , <br/><br/>
                                        2.  <br/><br/>
                                        <!--Comment by Shengt for JOBR-235--> 
                                        <!-- <b>[<a href="{!PersonalInformationCollectionStatement_chi}" target="_blank" style="text-decoration: underline;"></a><a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPrivacyStatement_chi}" target="_blank" style="text-decoration: underline;"></a>]</b><br/><br/>
                                        3. <a href="{!PersonalInformationCollectionStatement_chi}" target="_blank" style="text-decoration: underline;"></a><a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPrivacyStatement_chi}" target="_blank" style="text-decoration: underline;"></a>/()<br/><br/> -->
                                        
                                        <b>[<a href="{!BrkPersonalInformationCollectionStatement_chi}" target="_blank" style="text-decoration: underline;"></a><a href="{!BrkPrivacyStatement_chi}" target="_blank" style="text-decoration: underline;"></a>]</b><br/><br/>
                                        3. <a href="{!BrkPersonalInformationCollectionStatement_chi}" target="_blank" style="text-decoration: underline;"></a><a href="{!BrkPrivacyStatement_chi}" target="_blank" style="text-decoration: underline;"></a>/()<br/><br/>
                                        4.  <br/><br/>
                                        5.  <br/><br/>
                                        6.  <br/><br/>
                                        7.  <b>({!$Label.Cigna_Address_zh} )30</b><br/><br/>
                                        </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!$Label.Header_Language_Code == 'zh_TW'}">
                                         <div id="reallocationtccontentESales" style="text-align:left">
                                         <b>Declaration and Authorization</b><br/><br/>
                                            1.  I declare that the above statements and answers provided for this application are true and complete to the best of my knowledge.<br/><br/>
                                            2.  I confirm that I and all the persons insured are Hong Kong residents with a valid Hong Kong Identity Card and residency in Hong Kong.<br/><br/>
                                            <!--Comment by Nicole for DPSP-874,875-->
                                            <!--[Please click the hyperlinks for <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> and <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPrivacyStatement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare]<br/><br/>
                                                3.  I confirm that I have read and understood the <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> ("PICS") and <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPrivacyStatement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare. I agree that Cigna Healthcare may use and/or disclose my (the Applicant's) personal information in accordance with the PICS. I understand that I have the right to opt out of the use of my personal information for direct marketing purposes by ticking the box below or in accordance with the PICS. I understand that opting out will mean that Cigna Healthcare will not be able to send me any direct marketing, targeted or special offers in the future.<br/><br/>
                                            -->
                                            <!--Comment by Shengt for JOBR-235-->                                               
                                            <!-- [Please click the hyperlinks for <a href="{!PersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> and <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPrivacyStatement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare]<br/><br/>
                                            3.  I confirm that I have read and understood the <a href="{!PersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> ("PICS") and <a href="{!$Setup.Portal_Settings__c.File_Download_URL__c}{!BrkPrivacyStatement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare. I agree that Cigna Healthcare may use and/or disclose my (the Applicant's) personal information in accordance with the PICS. I understand that I have the right to opt out of the use of my personal information for direct marketing purposes by ticking the box below or in accordance with the PICS. I understand that opting out will mean that Cigna Healthcare will not be able to send me any direct marketing, targeted or special offers in the future.<br/><br/>  -->

                                            [Please click the hyperlinks for <a href="{!BrkPersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> and <a href="{!BrkPrivacyStatement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare.]<br/><br/>
                                            3.  I confirm that I have read and understood the <a href="{!BrkPersonalInformationCollectionStatement_eng}" target="_blank" style="text-decoration: underline;">Personal Information Collection Statement</a> ("PICS") and <a href="{!BrkPrivacyStatement_eng}" target="_blank" style="text-decoration: underline;">Privacy Statement</a> of Cigna Healthcare. I agree that Cigna Healthcare may use and/or disclose my (the Applicant's) personal information in accordance with the PICS. I understand that I have the right to opt out of the use of my personal information for direct marketing purposes by ticking the box below or in accordance with the PICS. I understand that opting out will mean that Cigna Healthcare will not be able to send me any direct marketing, targeted or special offers in the future.<br/><br/>                                            
                                            4.  I agree that the insurance coverage applied for shall only take effect from the Commencement Date as specified in the Policy Schedule.<br/><br/>
                                            5.  I agree that acceptance of any policy issued on this application will constitute an agreement to its terms and condition as well as notifications of any changes specified by Cigna Healthcare in this policy.<br/><br/>
                                            6.  I hereby authorize, and confirm that Proposed Person(s) Insured has / have authorized, any licensed physician, medical practitioner, hospital, clinic or other medical or medically related facility, insurance company or other organization, institution or person, that has any records or knowledge of my or the Proposed Person(s) Insured's health to give to Cigna Healthcare and its reinsurers any such information for the purpose of assessment of this insurance proposal or subsequent assessment of any insurance claim under the policy that may be issued pursuant to this application. A photographic copy of this authorization shall be as valid as the original.<br/><br/>
                                            7.  <b>Cancellation Rights and Refund of Premium(s): I understand that I have the right to cancel and obtain a refund of any premium(s) paid by giving written notice. Such notice must be signed by me and received directly by Cigna Worldwide General Insurance Company Limited which is located at {!$Label.Cigna_Address_en} within 30 days after the delivery of the policy or issue of a Notice to the policyholder or the policyholder's representative, whichever is the earlier.</b><br/><br/>
                                         </div>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </div>
                        </div>
                        <!-- End Special Centered Box -->
            </apex:outputPanel>
            </apex:outputPanel>
            
            <apex:outputPanel id="showReturnHome">
                <apex:outputPanel rendered="{!txn.AUW_Overall_Result__c == 'Decline' && (isAppealNo || !isBrokerPortal)}" styleClass="bs row" layout="block">

                    <div id="action-bar-desktop" class="bs hidden-xs text-center" style="padding-top:50px;padding-bottom:20px;">
                        <apex:outputText rendered="{!isCustomerPortal && txn.Basic_Plan_Code__c == 'DMB'}">
                            <a class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" role="button" onclick="Cigna.ESales.contactMe();return false;">{!$Label.Contact_Me}</a>
                        </apex:outputText>
                        <a id="eSales-home-btn" class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" 
                            role="button" onclick="Cigna.ESales.goHome();">
                            {!$Label.ESales_Return_to_Home}
                        </a>
                    </div>

                    <apex:outputPanel rendered="{!isCustomerPortal}">
                        <div id="action-bar" class="bs cigna-floating-bottom-panel visible-xs">
                            <div class="bs cigna-action-btn-group cigna-fg-white cigna-bg-orange-dark" >
                                <apex:outputText rendered="{!txn.Basic_Plan_Code__c == 'DMB'}">
                                    <a class="action-btn cigna-fg-white" role="button" onclick="Cigna.ESales.contactMe();return false;"><span class="ci-hk-phone" aria-hidden="true"></span><br/>{!$Label.Contact_Me}</a>
                                </apex:outputText>
                                <a id="eSales-home-btn" href="javascript:void(0);" class="action-btn cigna-fg-white" role="button" 
                                   onclick="Cigna.ESales.goHome();">
                                   <i class="ci-hk-home" aria-hidden="true"></i><br/>
                                    {!$Label.ESales_Return_to_Home}
                                </a> 
                            </div>
                        </div>
                        <div id="mobile-app-padding" class="bs row" style="display: none; padding-bottom: 120px;">
                            <div class="bs col-xs-12"></div>
                        </div>
                    </apex:outputPanel>
                    <script>
                        /*if (Cigna.Util.isIOS() && Cigna.Util.isSalesforce1() && Cigna.Util.isBrokerPortal()) {

                            $('#mobile-app-padding').css('display', 'block');
                            
                            $('html').css('position', 'fixed').css('overflow', 'auto').css('width', '100%').css('height', '100%');
                            $('body').css('position', 'fixed').css('overflow-x', 'scroll').css('width', '100%').css('height', '100%');
                        }*/

                    </script>
                </apex:outputPanel>

                <!--
                <apex:outputPanel rendered="{!isBrokerPortal && txn.Basic_Plan_Code__c == 'DMB' && isAppealYes}" styleClass="bs row" layout="block">
                    
                    <div id="action-bar-desktop" class="bs hidden-xs text-center" style="padding-top:10px;padding-bottom:20px;">
                        <a id="eSales-home-btn" class="bs btn action-btn cigna-fg-white cigna-bg-orange-dark cigna-btn-desktop" 
                            role="button" onclick="Cigna.ESales.submitApplication();">
                            {!$Label.eSales_Submit_Application}
                        </a>
                    </div>
                </apex:outputPanel>
                -->

            </apex:outputPanel>

        </apex:outputPanel>
    </apex:form>
    </div>

    <script>

        var ConfirmationForm = ConfirmationForm || {};
        ConfirmationForm.Validate = function(){
    
            function formValidation(){

                jQuery.validator.addMethod("isAccept", function(value, element) {
                    return Cigna.ESales.checkIsAccept();
                }, "{!$Label.ESales_Terms_and_Conditions_Warning}");

                $("input[id$='payment-mode']").rules("add", {
                    required: true
                });
                
                $("input[id$='select-accept-tc']").rules("add",{
                         isAccept: true
                });
            }

            function OnChangeValidation(){
                $("form[id*='confirmationfrm']").validate();
            }

        return {
                    formValidation : formValidation,
                    OnChangeValidation : OnChangeValidation
                }
        }();
            
        ConfirmationForm.Validate.OnChangeValidation();

    </script>

    
</apex:page>