<apex:page tabStyle="Campaign" controller="TMCampaignCloneCtrl">
    <apex:includeScript value="/support/console/33.0/integration.js"/>
    <apex:messages id="err"/>
    <apex:sectionHeader title="Campaign Edit" subtitle="{!dataRecord.Name}"/>
    <apex:form >
        <apex:pageBlock tabStyle="Campaign">
            <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!cloneCam}"/>
                <apex:commandButton value="Cancel" onclick="cancelhandle()"/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection >
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Campaign Name"/>
                    <apex:inputField value="{!dataRecord.Name}"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
    <script>
    function cancelhandle(){
        if(sforce.console.isInConsole()){
            sforce.console.getFocusedSubtabId(function (result){
                sforce.console.closeTab(result.id);
            })
        }else{
            window.opener=null;
            window.open('','_self');
            window.close();
        }
    }
    </script>
</apex:page>