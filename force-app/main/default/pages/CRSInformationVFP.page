<apex:page docType="html-5.0"  sidebar="false" showHeader="false" title="CRS Information" controller="CRSInformationCtrl" cache="false">
    
    <head>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <apex:stylesheet value="{!URLFOR($Resource.Cigna_HK_Icons, 'Cigna-HK-Icons.css')}"/>
        <apex:include pageName="CignaCommonCSS" />
        <link rel="stylesheet" type="text/css" href="{!$Setup.Portal_Settings__c.Typography_Font_URL__c}" />
        <script type="text/javascript" src="{!URLFOR($Resource.DD_Demo, 'js/jquery.min.js')}"></script>
    </head>

    <script>
        function DisplayCRS(){
            CRSInformation.DisplayCRSDetails();
        }

    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            DisplayCRS();
        });
    </script> 

    <apex:form id="myform">
        <apex:actionFunction name="DisplayCRSDetails" action="{!DisplayCRSDetails}" namespace="CRSInformation" 
        oncomplete="hideLoading()" status="loader-icon" reRender="CRS"/ >
        
        <apex:outputPanel id="CRS">
            <apex:outputPanel rendered="{!isBlank}" id="PNBlank">
                <p style="text-align: center;font-size: medium;">
                    <apex:outputText value="{!$Label.CRS_No_Record_Available}"/>      
                </p>
            </apex:outputPanel>

            <apex:outputPanel rendered="{! !isBlank}" id="PNCRS">
                <apex:pageBlock title="CRS Information" id="crsblock">
                    <apex:pageBlockTable id="claBlockTable" value="{!resultList}" var="c" rows="3">
                        <apex:column headerValue="{!$Label.CRS_SSN}">
                            <apex:outputText value="{!c.ssnNumber}"/>
                        </apex:column>
                        <apex:column headerValue="{!$Label.CRS_Tax_Residence}">
                            <apex:outputText value="{!c.CrsInfo.taxResidenceCountryDesc}" />                    
                        </apex:column>
                        <apex:column headerValue="{!$Label.CRS_TIN}">
                            <apex:outputText value="{!c.CrsInfo.tin}" />                 
                        </apex:column>
                        <apex:column headerValue="{!$Label.CRS_Follow_up_Letter_Date}">            
                            <apex:inputCheckbox id="checkCRSDate" value="{!c.isCheckCRS}" disabled="true" />
                            <apex:outputText value="{0, Date, yyyy/MM/dd}">
                                      <apex:param value="{!c.CrsInfo.crsFollowUpLetterDate}"/>
                            </apex:outputText>                
                        </apex:column>
                        <apex:column headerValue="{!$Label.CRS_TIN_Received_Date}">
                            <apex:inputCheckbox id="checkTINDate" value="{!c.isCheckTIN}" disabled="true"/>                        
                            <apex:outputText value="{0, Date, yyyy/MM/dd}">
                                <apex:param value="{!c.CrsInfo.tinReceiveDate}"/>
                            </apex:outputText>    
                        </apex:column>
                    </apex:pageBlockTable>
                </apex:pageBlock>
            </apex:outputPanel>
        </apex:outputPanel>
       
    </apex:form>

</apex:page>